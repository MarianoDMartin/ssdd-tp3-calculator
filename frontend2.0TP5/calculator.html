<html>
<head>
	<script>
        //function that sends a request to our server
        function Request(formula) {
            
        }
		//function that display value
		function display(val)
		{
			document.getElementById("result").value+=val
		}
		
		//function that evaluates the digit and return result
		function solve()
		{
            let formula = document.getElementById("result").value

            let data = {
                data: formula
            };
            fetch("http://localhost:8080/execute", {
                method: "POST",
                headers: {
                    'Content-Type': 'application/json',
                    'Access-Control-Request-Method': "POST"
                },
                body: JSON.stringify(data)
            }).then( res => {
                res.text().then((data) => {
                    const objPar = JSON.parse(data);
                    document.getElementById("result").value = objPar.data;             
                })
            });
		}
		
		//function that clear the displayplay
		function clr()
		{
			document.getElementById("result").value = ""
		}
	</script>
	<!-- for styling -->
	<style>
		.title{
		margin-bottom: 10px;
		text-align:center;
		width: 210px;
		color:green;
		border: solid black 2px;
		}

		input[type="button"]
		{
		background-color:green;
		color: black;
		border: solid black 2px;
		width:100%
		}

		input[type="text"]
		{
		background-color:white;
		border: solid black 2px;
		width:100%
		}
	</style>
</head>

<body>
	<div class = title >TP5 Calculadora Multi-Lenguajes</div>
	<table border="1">
		<tr>
			<td colspan="3"><input type="text" id="result"/></td>
			<!-- clr() function will call clr to clear all value -->
			<td><input type="button" value="c" onclick="clr()"/> </td>
		</tr>
		<tr>
			<!-- display("1") will call function display to displayplay value -->
			<td><input type="button" value="1" onclick="display('1')"/> </td>
			<td><input type="button" value="2" onclick="display('2')"/> </td>
			<td><input type="button" value="3" onclick="display('3')"/> </td>
			<td><input type="button" value="/" onclick="display('/')"/> </td>
		</tr>
		<tr>
			<td><input type="button" value="4" onclick="display('4')"/> </td>
			<td><input type="button" value="5" onclick="display('5')"/> </td>
			<td><input type="button" value="6" onclick="display('6')"/> </td>
			<td><input type="button" value="-" onclick="display('-')"/> </td>
		</tr>
		<tr>
			<td><input type="button" value="7" onclick="display('7')"/> </td>
			<td><input type="button" value="8" onclick="display('8')"/> </td>
			<td><input type="button" value="9" onclick="display('9')"/> </td>
			<td><input type="button" value="+" onclick="display('+')"/> </td>
		</tr>
		<tr>
			<td><input type="button" value="." onclick="display('.')"/> </td>
			<td><input type="button" value="0" onclick="display('0')"/> </td>
			<!-- solve function call function solve to evaluate value -->
			<td><input type="button" value="**" onclick="display('**')"/> </td>
			<td><input type="button" value="*" onclick="display('*')"/> </td>
        </tr>
        <tr>
            <td><input type="button" value="(" onclick="display('(')"/> </td>
            <td><input type="button" value=")" onclick="display(')')"/> </td>
            <td><input type="button" value="=" onclick="solve()"/> </td>
            
        </tr>
	</table>
</body>
</html>
